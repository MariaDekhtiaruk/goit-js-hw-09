{"mappings":"oeAAAA,EAAA,S,iBAGA,SAASC,EAAcC,EAAUC,GAa/B,OAZgB,IAAIC,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAgB,C,SAAER,E,MAAUC,GAClCQ,YAAW,KACLJ,EACFF,EAAQK,GAERJ,EAAOI,EAAc,GAEtBP,EAAM,G,CAMAS,SAASC,cAAc,SAE/BC,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAIC,iBAEJ,MAAMC,EAAeF,EAAIG,cAAcC,SACjCC,EAAQC,SAASJ,EAAad,MAAMmB,OACpCC,EAAOF,SAASJ,EAAaM,KAAKD,OAClCE,EAASH,SAASJ,EAAaO,OAAOF,OACtCG,EAAW,CACftB,MAAAiB,E,KACAG,E,OACAC,GAEFE,QAAQC,IAAIF,GAEZ,IAAK,IAAIG,EAAI,EAAGA,GAAKJ,EAAS,EAAGI,IAAK,CACpCF,QAAQC,IAAIC,GAGO3B,EAAc2B,EAFfR,EAAQG,EAAOK,GAK9BC,MAAK,EAAC3B,SAAEA,EAAQC,MAAEA,MACjB2B,EAAAC,OAAOC,QACL,uBAAqB9B,QAAiBC,MAAU,IAGnD8B,OAAM,EAAC/B,SAAEA,EAAQC,MAAEA,MAClB2B,EAAAC,OAAOG,QACL,sBAAoBhC,QAAeC,MAAU,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    const promiseResult = { position, delay };\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(promiseResult);\n      } else {\n        reject(promiseResult);\n      }\n    }, delay);\n  });\n\n  return promise;\n}\n\nconst form = document.querySelector(`.form`);\n\nform.addEventListener(`submit`, onFormSubmit);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  const formElements = evt.currentTarget.elements;\n  const delay = parseInt(formElements.delay.value);\n  const step = parseInt(formElements.step.value);\n  const amount = parseInt(formElements.amount.value);\n  const formData = {\n    delay,\n    step,\n    amount,\n  };\n  console.log(formData);\n\n  for (let i = 0; i <= amount - 1; i++) {\n    console.log(i);\n    const realDelay = delay + step * i;\n\n    const newPromise = createPromise(i, realDelay);\n\n    newPromise\n      .then(({ position, delay }) => {\n        Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      });\n  }\n}\n"],"names":["parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","promiseResult","setTimeout","document","querySelector","addEventListener","evt","preventDefault","formElements","currentTarget","elements","delay1","parseInt","value","step","amount","formData","console","log","i","then","$iQIUW","Notify","success","catch","failure"],"version":3,"file":"03-promises.6d4ca6cc.js.map"}